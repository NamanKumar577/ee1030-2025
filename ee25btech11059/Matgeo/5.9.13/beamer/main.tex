\documentclass{beamer}
\usepackage[utf8]{inputenc}

\usetheme{Madrid}
\usecolortheme{default}
\usepackage{amsmath,amssymb,amsfonts,amsthm}
\usepackage{txfonts}
\usepackage{tkz-euclide}
\usepackage{listings}
\usepackage{adjustbox}
\usepackage{array}
\usepackage{tabularx}
\usepackage{gvv}
\usepackage{lmodern}
\usepackage{circuitikz}
\usepackage{tikz}
\usepackage{graphicx}
\usepackage{mathtools}
\setbeamertemplate{page number in head/foot}[totalframenumber]

\usepackage{tcolorbox}
\tcbuselibrary{minted,breakable,xparse,skins}



\definecolor{bg}{gray}{0.95}
\DeclareTCBListing{mintedbox}{O{}m!O{}}{%
  breakable=true,
  listing engine=minted,
  listing only,
  minted language=#2,
  minted style=default,
  minted options={%
    linenos,
    gobble=0,
    breaklines=true,
    breakafter=,,
    fontsize=\small,
    numbersep=8pt,
    #1},
  boxsep=0pt,
  left skip=0pt,
  right skip=0pt,
  left=25pt,
  right=0pt,
  top=3pt,
  bottom=3pt,
  arc=5pt,
  leftrule=0pt,
  rightrule=0pt,
  bottomrule=2pt,
  toprule=2pt,
  colback=bg,
  colframe=orange!70,
  enhanced,
  overlay={%
    \begin{tcbclipinterior}
    \fill[orange!20!white] (frame.south west) rectangle ([xshift=20pt]frame.north west);
    \end{tcbclipinterior}},
  #3,
}
\lstset{
    language=C,
    basicstyle=\ttfamily\small,
    keywordstyle=\color{blue},
    stringstyle=\color{orange},
    commentstyle=\color{green!60!black},
    numbers=left,
    numberstyle=\tiny\color{gray},
    breaklines=true,
    showstringspaces=false,
}
%This block of code defines the information to appear in the
%Title page
\title %optional
{5.9.13}
%\subtitle{A short story}

\author % (optional)
{Vaishnavi - EE25BTECH11059}



\begin{document}


\frame{\titlepage}
\begin{frame}{Question}
A shopkeeper has 3 varieties of pens \( A, B \) and \( C \). Meenu purchased 1 pen of each variety for a total of Rs 21. Jeevan purchased 4 pens of \( A \) variety, 3 pens of \( B \) variety and 2 pens of \( C \) variety for Rs 60. While Shikha purchased 6 pens of \( A \) variety, 2 pens of \( B \) variety and 3 pens of \( C \) variety for Rs 70. Using matrix method, find the cost of each variety of pen.
 \end{frame}
\begin{frame}{allowframebreaks}
\frametitle{Solution}
\begin{table}[H]    
  \centering
  \input{../tables/table}
  \caption{Variables Used}
  \label{tab:1.10.25}
\end{table}

\end{frame}


\begin{frame}{Solution}
Let unit cost matrix X be 
\begin{align}
                                     X = \myvec{
                                             a
                                              \\
                                              b
                                               \\
                                               c
                                              }
\end{align}
\begin{align}
 \myvec{
        1 & 1 & 1
        \\
        4 & 3 & 2
        \\
        6 & 2 & 3
            }
X
=
\myvec{
        21
        \\
        60
        \\
        70
        }
\end{align}

\end{frame}

\begin{frame}{solution}
Solving it using a Augmented Matrix
\begin{align}
&\left(
\begin{array}{ccc|c}
1 & 1 & 1 & 21 \\
4 & 3 & 2 & 60 \\
6 & 2 & 3 & 70
\end{array}
\right)
\xrightarrow{R_2 \gets R_2 - 4R_1}
\left(
\begin{array}{ccc|c}
1 & 1 & 1 & 21 \\
0 & -1 & -2 & -24 \\
6 & 2 & 3 & 70
\end{array}
\right) \\[12pt]
&\xrightarrow{R_3 \gets R_3 - 6R_1}
\left(
\begin{array}{ccc|c}
1 & 1 & 1 & 21 \\
0 & -1 & -2 & -24 \\
0 & -4 & -3 & -56
\end{array}
\right) 
\end{align}
\end{frame}
\begin{frame}{Solution}
\begin{align}
&\xrightarrow{R_2 \gets -1 \cdot R_2}
\left(
\begin{array}{ccc|c}
1 & 1 & 1 & 21 \\
0 & 1 & 2 & 24 \\
0 & -4 & -3 & -56
\end{array}
\right) \\[12pt]
&\xrightarrow{R_1 \gets R_1 - R_2}
\left(
\begin{array}{ccc|c}
1 & 0 & -1 & -3 \\
0 & 1 & 2 & 24 \\
0 & -4 & -3 & -56
\end{array}
\right) \\[12pt]
&\xrightarrow{R_3 \gets R_3 + 4R_2}
\left(
\begin{array}{ccc|c}
1 & 0 & -1 & -3 \\
0 & 1 & 2 & 24 \\
0 & 0 & 5 & 40
\end{array}
\right) \\[12pt]
&\xrightarrow{R_3 \gets \frac{1}{5} R_3}
\left(
\begin{array}{ccc|c}
1 & 0 & -1 & -3 \\
0 & 1 & 2 & 24 \\
0 & 0 & 1 & 8
\end{array}
\right) 
\end{align}
\end{frame}
\begin{frame}{Solutions}
\begin{align}
&\xrightarrow{R_1 \gets R_1 + R_3}
\left(
\begin{array}{ccc|c}
1 & 0 & 0 & 5 \\
0 & 1 & 2 & 24 \\
0 & 0 & 1 & 8
\end{array}
\right) \\[12pt]
&\xrightarrow{R_2 \gets R_2 - 2R_3}
\left(
\begin{array}{ccc|c}
1 & 0 & 0 & 5 \\
0 & 1 & 0 & 8 \\
0 & 0 & 1 & 8
\end{array}
\right)
\end{align} 
\end{frame}
\begin{frame}{Solution}
\begin{align}
     \Vec{X}=\myvec{5
                   \\
                    8
                   \\
                   8}
\end{align}
    Therefore,\\
          cost of pen A = Rs $5$\\
          cost of pen B = Rs $8$\\
          cost of pen C = Rs $8$
\end{frame}

\begin{frame}[fragile]
    \frametitle{Python Code}
    \begin{lstlisting}
def gaussian_elimination(mat):
    n = len(mat)

    for i in range(n):
        # Make the diagonal element 1
        factor = mat[i][i]
        mat[i] = [val / factor for val in mat[i]]

        # Eliminate below and above
        for j in range(n):
            if j != i:
                row_factor = mat[j][i]
                mat[j] = [mat[j][k] - row_factor * mat[i][k] for k in range(n + 1)]

        print(f"After making row {i+1} pivot and eliminating others:")
        print_matrix(mat)

\end{lstlisting}
\end{frame}

\begin{frame}[fragile]
    \frametitle{Python Code}

    \begin{lstlisting}
# Extract solution
    return [row[-1] for row in mat]


def main():
    # Augmented matrix: [A | B]
    matrix = [
        [1, 1, 1, 21],
        [4, 3, 2, 60],
        [6, 2, 3, 70]
    ]

    print("Initial Augmented Matrix:")
    print_matrix(matrix)

    solution = gaussian_elimination(matrix)


    \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
    \frametitle{Python Code}

    \begin{lstlisting}
variables = ['x', 'y', 'z']
    print("Solution:")
    for var, val in zip(variables, solution):
        print(f"{var} = {val:.2f}")


if __name__ == "__main__":
    main()





  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]
\frametitle{C Code}
\begin{lstlisting}
#include <stdio.h>

#define N 3

void printMatrix(double mat[N][N + 1]) {
    for (int i = 0; i < N; i++) {
        for (int j = 0; j < N + 1; j++) {
            printf("%8.3f ", mat[i][j]);
        }
        printf("\n");
    }
    printf("\n");
}

    \end{lstlisting}

\end{frame}

\begin{frame}[fragile]
\frametitle{C Code}
\begin{lstlisting}
  void gaussianElimination(double mat[N][N + 1], double result[N]) {
    for (int i = 0; i < N; i++) {
        // Make the diagonal element 1
        double diag = mat[i][i];
        for (int j = 0; j <= N; j++) {
            mat[i][j] /= diag;
        }

        // Eliminate other rows
        for (int k = 0; k < N; k++) {
            if (k != i) {
                double factor = mat[k][i];
                for (int j = 0; j <= N; j++) {
                    mat[k][j] -= factor * mat[i][j];
                }
            }
        }
    }
\end{lstlisting}
\end{frame}
\begin{frame}[fragile]
\frametitle{C Code}
\begin{lstlisting}
 // Extract solution
    for (int i = 0; i < N; i++) {
        result[i] = mat[i][N];
    }
}

void solve() {
    double mat[N][N + 1] = {
        {1, 1, 1, 21},
        {4, 3, 2, 60},
        {6, 2, 3, 70}
    };

    double result[N];

    gaussianElimination(mat, result);

    printf("Solution:\n");
    printf("x = %.2f\n", result[0]);
    printf("y = %.2f\n", result[1]);
    printf("z = %.2f\n", result[2]);
}

\end{lstlisting}
\end{frame}


\begin{frame}[fragile]
\frametitle{Python and C Code}

\begin{lstlisting}
import ctypes

# Load the shared object file
lib = ctypes.CDLL('./libcode.so')

# Call the solve function
lib.solve()
\end{lstlisting}

\end{frame}

 





\end{document}